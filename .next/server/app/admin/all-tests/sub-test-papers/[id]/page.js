(()=>{var e={};e.id=333,e.ids=[333],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8250:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>u});var a=r(482),s=r(9108),n=r(2563),i=r.n(n),l=r(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let u=["",{children:["admin",{children:["all-tests",{children:["sub-test-papers",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3538)),"/home/sanjiv/Desktop/QuizzApp/client/src/app/admin/all-tests/sub-test-papers/[id]/page.tsx"]}]},{}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,5828))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,7809)),"/home/sanjiv/Desktop/QuizzApp/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,5828))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/sanjiv/Desktop/QuizzApp/client/src/app/admin/all-tests/sub-test-papers/[id]/page.tsx"],c="/admin/all-tests/sub-test-papers/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/all-tests/sub-test-papers/[id]/page",pathname:"/admin/all-tests/sub-test-papers/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},4865:(e,t,r)=>{Promise.resolve().then(r.bind(r,3369))},4245:(e,t,r)=>{"use strict";r.d(t,{V:()=>p});var a=r(3729),s=r(9478),n=r(5953),i=r(3165),l=r(402);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){var a;return a=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==o(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===o(a)?a:String(a))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=n.V.extend({defaultProps:{__TYPE:"Tag",value:null,severity:null,rounded:!1,icon:null,style:null,className:null,children:void 0},css:{classes:{value:"p-tag-value",icon:"p-tag-icon",root:function(e){var t=e.props;return(0,l.AK)("p-tag p-component",u(u({},"p-tag-".concat(t.severity),null!==t.severity),"p-tag-rounded",t.rounded))}},styles:"\n@layer primereact {\n    .p-tag {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-tag-icon,\n    .p-tag-value,\n    .p-tag-icon.pi {\n        line-height: 1.5;\n    }\n    \n    .p-tag.p-tag-rounded {\n        border-radius: 10rem;\n    }\n}\n"}});function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var p=a.forwardRef(function(e,t){var r=(0,i.c)(),o=a.useContext(s.Ou),p=d.getProps(e,o),m=d.setMetaData({props:p}),h=m.ptm,x=m.cx,g=m.isUnstyled;(0,n.e)(d.css.styles,g,{name:"tag"});var v=a.useRef(null),y=r({className:x("icon")},h("icon")),f=l.Cz.getJSXIcon(p.icon,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},y),{props:p});a.useImperativeHandle(t,function(){return{props:p,getElement:function(){return v.current}}});var b=r({ref:v,className:(0,l.AK)(p.className,x("root")),style:p.style},d.getOtherProps(p),h("root")),j=r({className:x("value")},h("value"));return a.createElement("span",b,f,a.createElement("span",j,p.value),a.createElement("span",null,p.children))});p.displayName="Tag"},3369:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var a=r(5344),s=r(6298),n=r(3729),i=r(4230),l=r(1616);let o=e=>{let{handleAdd:t}=e;return(0,a.jsxs)("div",{className:"bg-white rounded p-4 flex justify-between border shadow-lg",children:[a.jsx(i.Z,{variant:"cancel",onClick:l.ZP,className:"hover:bg-white hover:text-black",children:"Back"}),a.jsx(i.Z,{onClick:t,variant:"primary",children:"Add New Test Paper"})]})};var u=r(2204),d=r(6527),c=r(522),p=r(7406),m=r(4721),h=r(4669),x=r(165),g=r(4502);let v=g.Ry({name:g.Z_().required("name is required"),sub_title:g.Z_().optional(),test_id:g.Rx().required("test id is required"),total_marks:g.Rx().required("total marks is required"),duration:g.Rx().required("duration is required"),price:g.Rx().required("price is required")}),y=e=>{let{handleCancel:t,testId:r}=e,s=(0,x.useQueryClient)(),[n,l,o]=(0,d.l)(),g=async e=>{l();let t={...e};t.duration=String(e.duration),await (0,p.Z)({url:`${c.Y.TEST_PAPER_URL.create}`,method:"POST",data:t})},{mutate:y}=(0,x.useMutation)(g,{onSuccess:()=>{t(),s.invalidateQueries(["test-papers",r])},onError:()=>{h.ZP.error("Something Went Wrong!!")},onSettled:()=>{o()}});return(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.x7,{}),n,a.jsx(m.J9,{initialValues:{name:"",sub_title:"",test_id:r,total_marks:"",duration:"",price:""},validationSchema:v,onSubmit:y,children:({values:e,errors:r,touched:s,handleChange:n,handleBlur:l,handleReset:o,handleSubmit:d,dirty:c})=>(0,a.jsxs)("form",{onSubmit:d,children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx(u.Z,{label:"Test Name",placeholder:"Enter test name",onChange:n,onBlur:l,value:e.name,error:r.name,touched:s.name,name:"name",required:!0,maxlength:15}),a.jsx(u.Z,{label:"Sub Title",placeholder:"Enter sub title",onChange:n,onBlur:l,value:e.sub_title,error:r.sub_title,touched:s.sub_title,name:"sub_title",maxlength:25}),a.jsx(u.Z,{label:"Total Marks",placeholder:"Enter total marks",onChange:n,onBlur:l,value:e.total_marks,error:r.total_marks,touched:s.total_marks,name:"total_marks",type:"number",required:!0,maxlength:25}),a.jsx(u.Z,{label:"Dutaion In Minuntes",placeholder:"Enter dutaion",onChange:n,onBlur:l,value:e.duration,error:r.duration,touched:s.duration,name:"duration",type:"number",required:!0,maxlength:25}),a.jsx(u.Z,{label:"Price",placeholder:"Enter price",onChange:n,onBlur:l,value:e.price,error:r.price,touched:s.price,name:"price",type:"number",required:!0,maxlength:25})]}),(0,a.jsxs)("div",{className:"flex gap-3 float-end mt-6",children:[a.jsx(i.Z,{buttontype:"button",onClick:t,variant:"cancel",children:"Cancel"}),c&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Z,{buttontype:"button",onClick:o,variant:"cancel",children:"Reset"}),a.jsx(i.Z,{buttontype:"submit",variant:"primary",children:"Submit"})]})]})]})})]})};var f=r(6377),b=r(5008),j=r(9354),w=r(2080),_=r(5117),P=r(8929),q=r(4245);r(2075);var S=r(8428),N=r(5136),E=r(3547),k=r(7551);function C(e){let t=(0,x.useQueryClient)(),{data:r,testId:s}=e,i=(0,S.useRouter)(),l=(0,S.usePathname)(),[o]=(0,n.useState)(["true","false"]),u=async e=>{await (0,p.Z)({url:`${c.Y.TEST_PAPER_URL.delete}`,method:"DELETE",data:{id:e.id}})},d=e=>(0,x.useMutation)(e,{onSuccess:()=>{t.invalidateQueries(["test-papers",s])},onError:()=>{h.ZP.error("Something Went Wrong!!")}}),{mutate:m}=d(async e=>{let t={...e};delete t.total_question,t.test_id=s,delete t?.is_paid,t.active="true"===e.active||"false"===e.active&&!1,t.is_free="true"===e.is_free||"false"===e.is_free&&!1,await (0,p.Z)({url:`${c.Y.TEST_PAPER_URL.update}`,method:"POST",data:t})}),{mutate:g}=d(u),v=e=>{switch(e){case"true":return"success";case"false":return"warning";default:return null}},y=e=>a.jsx(_.o,{type:"text",value:e.value,className:"p-2 border",onChange:t=>e.editorCallback(t.target.value)}),f=e=>a.jsx(P.L,{value:e.value,options:o,onChange:t=>e.editorCallback(t.value),placeholder:"Select a Status",itemTemplate:e=>a.jsx(q.V,{value:e,severity:v(e)})}),b=e=>a.jsx(P.L,{value:e.value,options:o,onChange:t=>e.editorCallback(t.value),placeholder:"Select a Status",itemTemplate:e=>a.jsx(q.V,{value:e,severity:v(e)})}),C=e=>a.jsx(E.R,{value:e.value,onValueChange:t=>e.editorCallback(t.value),mode:"currency",currency:"INR",locale:"en-US",onKeyDown:e=>e.stopPropagation()});return(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.x7,{}),a.jsx("div",{className:"card p-fluid bg-white shadow-lg border rounded mt-4",children:(0,a.jsxs)(j.w,{value:r,editMode:"row",dataKey:"id",onRowEditComplete:e=>{m(e.newData)},tableStyle:{minWidth:"50rem"},children:[a.jsx(w.s,{field:"name",header:"Name",editor:e=>y(e),style:{textWrap:"nowrap"}}),a.jsx(w.s,{field:"sub_title",header:"Sub Title",editor:e=>y(e),style:{textWrap:"nowrap"}}),a.jsx(w.s,{field:"cover_img_url",header:"Cover Image",editor:e=>y(e),headerStyle:{textWrap:"nowrap"}}),a.jsx(w.s,{field:"duration",header:"Duration",editor:e=>y(e),style:{width:"10%"}}),a.jsx(w.s,{field:"total_marks",header:"Marks",editor:e=>y(e),style:{width:"10%"}}),a.jsx(w.s,{field:"total_question",header:"Questions",style:{width:"10%"}}),a.jsx(w.s,{field:"active",header:"Active",body:e=>a.jsx(q.V,{value:String(e.active),severity:v(e.active)}),editor:e=>f(e),style:{width:"10%"}}),a.jsx(w.s,{field:"is_free",header:"Free",body:e=>a.jsx(q.V,{value:String(e.is_free),severity:v(e.is_free)}),editor:e=>b(e),style:{width:"20%"}}),a.jsx(w.s,{field:"price",header:"Price",body:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}).format(e.price),editor:e=>C(e),style:{width:"20%"}}),a.jsx(w.s,{header:"View",body:e=>a.jsx(k.U3C,{onClick:()=>{i.push(`${l.split("sub-test-papers/")[0]}/sub-test-papers/questions/${e.id}`)},className:"cursor-pointer h-8"}),style:{width:"10%"}}),a.jsx(w.s,{header:"Edit",rowEditor:e=>"Blue Band"!==e.name,headerStyle:{minWidth:"4rem"}}),a.jsx(w.s,{header:"Delete",body:e=>a.jsx(N.qy0,{onClick:()=>{e?.total_question&&e?.total_question<1&&g(e)},className:`${e?.total_question>0?"cursor-not-allowed":"cursor-pointer"}`}),headerStyle:{width:"10%",minWidth:"8rem"},bodyStyle:{textAlign:"center"}})]})})]})}let T=({testId:e})=>{let[t,r]=(0,n.useState)({showPopup:!1}),{showPopup:s}=t,i=()=>{r({...t,showPopup:!s})},l=async()=>{try{return(await (0,p.Z)({url:`${c.Y.TEST_PAPER_URL.getAll}/${e}`,method:"GET"})).data.data}catch(e){console.log(e)}},{isFetching:u,data:d}=(0,x.useQuery)(["test-papers",e],l);return(0,a.jsxs)("div",{children:[s&&a.jsx(f.Z,{title:"",children:a.jsx(y,{testId:e,handleCancel:i})}),a.jsx(o,{handleAdd:i}),u?a.jsx(b.Z,{}):a.jsx(C,{testId:e,data:d})]})},Z=({params:e})=>{let{id:t}=e;return a.jsx(s.default,{children:a.jsx(T,{testId:Number(t)})})}},2204:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(5344);r(3729);let s=e=>{let t="id_"+e.name,{labelColor:r="secondary"}=e;return a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("label",{className:`text-${r} text-sm`,htmlFor:t,children:[e.label,e.required?a.jsx("span",{className:"text-red-600 ",children:"*"}):""]}),(0,a.jsxs)("div",{className:`flex items-center justify-between rounded border shadow-lg bg-transparent border-zinc-400 focus-within:outline focus-within:outline-black focus-within:border-none ${e.icon&&"left"===e.iconAlign&&"flex-row-reverse"} ${e.readonly?"bg-gray-300":""}`,children:[a.jsx("input",{disabled:e.readonly,placeholder:e.placeholder,onChange:t=>{!e.readonly&&e.onChange&&(e?.maxlength&&String(t.target.value).length<=e?.maxlength||!e?.maxlength)&&e.onChange(t)},onBlur:e.onBlur,onFocus:t=>{e.type&&"number"===e.type&&t.target.addEventListener("wheel",function(e){e.preventDefault()})},type:e.type,value:e?.value,className:`text-primary h-[40px] p-3 rounded outline-none  w-full ${e.readonly?"cursor-not-allowed bg-[#f0f0f0]":"bg-white "}`,name:e.name,id:t}),e.icon&&a.jsx("div",{className:`${"left"===e.iconAlign?"ml-2":"mr-2"}`,children:e.icon})]}),e.touched&&e.error&&a.jsx("div",{className:"text-red-500",children:e.error})]})})}},6377:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(5344);r(3729);let s=e=>a.jsx("h2",{className:`text-secondary text-sub_head font-semibold ${e.className}`,children:e.children});var n=r(4230);let i=({children:e,title:t,closeModal:r,width:i="70%",bgColor:l="white",opacity:o=""})=>(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black opacity-40 z-50"}),a.jsx("section",{className:`fixed left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[${i}] max-h-[90%] overflow-auto z-50 rounded-xl hide-scrollbar`,children:a.jsx("div",{className:"relative z-50 ",children:(0,a.jsxs)("div",{className:`w-full rounded-lg h-auto backdrop-blur-lg bg-${l} border shadow-lg flex flex-col ${o} p-5`,children:[a.jsx(s,{children:t}),a.jsx("div",{className:"flex flex-col w-full gap-5 mt-5",children:e}),r&&a.jsx("div",{className:"w-full mt-4 flex items-center justify-end gap-2",children:a.jsx(n.Z,{onClick:r,variant:"cancel",className:"w-24",children:"Close"})})]})})})]})},6527:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var a=r(5344),s=r(3729),n=r(1413),i=r(6377);let l=()=>{let[e,t]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let r=setTimeout(()=>{t(e>2?0:e+1)},500);return()=>clearTimeout(r)}),a.jsx(a.Fragment,{children:a.jsx(i.Z,{title:"",children:(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center w-40",children:[a.jsx(n.Jv,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"}),(0,a.jsxs)("span",{className:"text-[20px] text-black my-8",children:["Working ",".".repeat(e)]})]})})})};function o(){let[e,t]=(0,s.useState)(!1);return[e?a.jsx(l,{}):a.jsx(a.Fragment,{}),()=>{t(!0)},()=>{t(!1)}]}},7406:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(7665);let s=r(8014).Z.get("quizzLoginData"),n="";s&&(n=JSON.parse(s));let i=a.Z.create({baseURL:"http://localhost:2001/api/v1",headers:{authorization:`${n?.token}`}})},522:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});let a={AUTH:{register:"/auth/register",login:"/auth/login",sendOtp:"/auth/phone/send-otp"},TEST_URL:{getAll:"test/get-all",update:"test/update",create:"test/create",delete:"test/delete"},TEST_PAPER_URL:{getAll:"test-paper/get-all",update:"test-paper/update",create:"test-paper/create",delete:"test-paper/delete"},QUESTIONS_URL:{getAll:"/question/test-paper",updateQuestion:"question/only/update",updateOption:"question/option/update",create:"question/create-single",delete:"question/delete",upload:"upload"},QUESTION_TYPE_URL:{getAll:"question-type/get-all",update:"question-type/update",create:"question-type/create",delete:"question-type/delete"}}},1616:(e,t,r)=>{"use strict";function a(){window.history.back()}r.d(t,{ZP:()=>a})},3538:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let a=(0,r(6843).createProxy)(String.raw`/home/sanjiv/Desktop/QuizzApp/client/src/app/admin/all-tests/sub-test-papers/[id]/page.tsx`),{__esModule:s,$$typeof:n}=a,i=a.default}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,139,337,500,410,476,128,429,308,136,551,377],()=>r(8250));module.exports=a})();